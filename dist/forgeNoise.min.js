(t=>{function o(t){this.p=new Uint8Array(512),this.initSeed(t)}function M(t){return t*t*t*(t*(6*t-15)+10)}function s(t,o,r){return o+t*(r-o)}function u(t,o,r){var t=7&t,e=t<4?o:r,r=t<4?r:o;return(1&t?-e:e)+(2&t?-r:r)}function c(t,o,r,e){var t=15&t,n=t<8?o:r,r=t<4?r:12==t||14==t?o:e;return(1&t?-n:n)+(2&t?-r:r)}o.prototype.initSeed=function(t){var o=new Uint8Array(256);for(let t=0;t<256;t++)o[t]=t;let r=0|(void 0===t?Math.floor(2147483647*Math.random()):t);r<=0&&(r=1);for(let t=255;0<t;t--){var e=(r=16807*r%2147483647)%(t+1),n=o[t];o[t]=o[e],o[e]=n}for(let t=0;t<512;t++)this.p[t]=o[255&t]},o.prototype.generate2D=function(t,o){var r=255&Math.floor(t),e=255&Math.floor(o),n=(t-=Math.floor(t),o-=Math.floor(o),M(t)),a=M(o),i=this.p,f=i[r]+e,r=i[1+r]+e;return s(a,s(n,u(i[f],t,o),u(i[r],t-1,o)),s(n,u(i[f+1],t,o-1),u(i[r+1],t-1,o-1)))},o.prototype.generate3D=function(t,o,r){var e=255&Math.floor(t),n=255&Math.floor(o),a=255&Math.floor(r),i=(t-=Math.floor(t),o-=Math.floor(o),r-=Math.floor(r),M(t)),f=M(o),u=M(r),h=this.p,l=h[e]+n,p=h[l]+a,l=h[l+1]+a,e=h[1+e]+n,n=h[e]+a,e=h[e+1]+a;return s(u,s(f,s(i,c(h[p],t,o,r),c(h[n],t-1,o,r)),s(i,c(h[l],t,o-1,r),c(h[e],t-1,o-1,r))),s(f,s(i,c(h[p+1],t,o,r-1),c(h[n+1],t-1,o,r-1)),s(i,c(h[l+1],t,o-1,r-1),c(h[e+1],t-1,o-1,r-1))))},o.prototype.generate2D01=function(t,o){return.5*(this.generate2D(t,o)+1)},o.prototype.generate3D01=function(t,o,r){return.5*(this.generate3D(t,o,r)+1)},"undefined"!=typeof module&&module.exports?module.exports=o:t.ForgeNoise=o})(this);